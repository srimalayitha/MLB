<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Movie Library</title>
    <link rel="stylesheet" href="/src/common/common.css">
    <link rel="stylesheet" href="/src/common/header.css">
    <link rel="stylesheet" href="styles.css">
</head>

<body style="position: relative;">
    <header
        style="display: flex;position: fixed;width: 100%; height: 75px;align-items: center;background-color: #F6F6F6;border: 1px solid #e9e9e9;top:0px">
        <div style="position:absolute;left: 10px;display: flex;align-items: center;height: 100%;">
            <div>
                <img src="/src/images/bookmyshow.png" width="80px" height="40px">
            </div>
            <div style="margin-left: 24px;cursor: pointer;margin-top: -6px;"><button
                    style="border: none;padding: 0px;font-size: 14px;cursor: pointer" id="home-button">Home</button>
            </div>
        </div>
        <div
            style="width: 50%;margin: auto;display: flex;align-items: center;background-color: white;padding: 16px;border-radius: 999px;">
            <div id="search-button"
                style="display: flex;align-items: center;justify-content: center;width: 14px;height: 14px;cursor: pointer;">
                <svg viewBox="0 0 12 12" xmlns="http://www.w3.org/2000/svg">
                    <title>Search</title>
                    <path
                        d="M11.8 10.864L8.859 7.918a4.912 4.912 0 0 0-.444-6.47A4.888 4.888 0 0 0 4.928 0a4.888 4.888 0 0 0-3.485 1.449 4.942 4.942 0 0 0 0 6.979 4.888 4.888 0 0 0 3.485 1.449c1.052 0 2.105-.33 2.976-1.005l2.96 2.93a.658.658 0 0 0 .476.198.686.686 0 0 0 .477-.198.672.672 0 0 0-.016-.938zm-6.855-2.32c-.97 0-1.858-.38-2.549-1.054C1 6.09 1 3.802 2.396 2.387a3.578 3.578 0 0 1 2.549-1.054c.97 0 1.858.379 2.548 1.054s1.052 1.58 1.052 2.551c0 .971-.378 1.86-1.052 2.552a3.539 3.539 0 0 1-2.548 1.053z"
                        fill="#777"></path>
                </svg>
            </div>
            <input type="text" autocomplete="off"
                style="width: 100%;border: none;outline: none;font-size: 14px;padding-left: 10px;" id="search-input"
                placeholder="Search for a movie...">
        </div>
        <div style="position: absolute;right: 24px;margin-top: -6px;">
            <button style="border: none;padding: 0px;font-size: 14px;cursor: pointer" id="logout-button">Logout</button>
        </div>
    </header>
    <div id="playlists-container"></div>
    <main id="movie-container"></main>
    <script>
        // Function to log out user
        function logoutUser() {
            localStorage.removeItem('authenticated');
            localStorage.removeItem('loggedInUser');
            window.location.href = '/src/login/login.html';
        }

        // Check if user is authenticated, if not, redirect to login page
        if (!localStorage.getItem('authenticated')) {
            window.location.href = '/src/login/login.html';
        }

        // Add event listener to logout button
        document.getElementById('logout-button').addEventListener('click', logoutUser);

        document.getElementById('home-button').addEventListener('click', () => {
            window.location.href = 'index.html'; // Navigate to the home page
        });


        // Load playlists when the page loads
        document.addEventListener('DOMContentLoaded', function () {
            loadPlaylists();
        });
    </script>
    <script src="script.js"></script>
</body>

</html>